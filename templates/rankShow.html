<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>rank排序服务</title>
<link rel="stylesheet" href="{{ url_for('static', filename='layui/css/layui.css') }}">
<script type="text/javascript" src="{{url_for('static', filename='js/jquery-3.3.1.min.js')}}"></script>
</head>
<body>
    <hr class="layui-border-black">
    <form class="layui-form layui-form-pane"  method="">
        <div class="layui-form-item">
            <blockquote class="layui-elem-quote layui-quote-nm"><span class="layui-badge">!</span>&nbsp;&nbsp;实际上,rank服务需要其他模块配合执行,单独运行该服务时,则使用默认参数执行</blockquote>
        </div>
        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label">响应时间</label>
                <div class="layui-input-inline" style="width: 100px;">
                    <input type="text" value={{costTime}} readonly placeholder="0" autocomplete="off" class="layui-input">
                </div>
                <div class="layui-form-mid">秒</div>
            </div>
        </div>        
    </form>   
	<hr class="layui-border-black">
	<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>排序信息</legend>
	</fieldset>
	<table align="center" class="layui-table">
		<thead>
			<tr>
				<td>商品ID</td>
				<td>排序得分</td>
			</tr>
		</thead>
        <tbody>
            {% for item in result %}
            <tr>
                <td> {{ item['nid'] }}</td>
                <td> {{ item['score'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
	</table>
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>源信息</legend>
	</fieldset>
        <fieldset class="layui-elem-field layui-field-title">
                <span class="layui-badge layui-bg-blue">cmService</span>
                {% if originData==0 %}
                    <div class="layui-field-box">
                        这里展示的是服务器端传来的原始数据
                    </div>
                {% else %}
                    <div class="layui-field-box">
                        {{originData}}
                    </div>
                {% endif %}
        </fieldset>
    <input type="text" id="code" value={{stateCode}} hidden> 
</body>
</html>
<script src="{{ url_for('static', filename = 'layui/layui.js') }}" charset="utf-8"></script>
<script type="text/javascript">
layui.use('layer', function(){
    var layer = layui.layer;
    $(document).ready(function(){
        var code=$("#code").val()
         //通过状态码提示用户是否查询成功
        if(code==200){
            layer.msg('运行成功！', {icon: 1,time:1500});
        }
        if(code==500){
            layer.msg('运行失败！', {icon: 2,time:1500});
        }
    }); 
}); 
</script>

